# meta developer: @yummy_gay, @Billi_cum
from .. import loader, utils
import asyncio

@loader.tds
class YgFakeLoadModule(loader.Module):
    """Модуль для имитации загрузки"""
    strings = {
        "name": "yg_fakeload",
    }

    async def flcmd(self, message):
        """<text> имитировать процесс загрузки"""
        args = utils.get_args_raw(message)
        progress = ["▎", "▍", "▌", "▊", "▉", "█", "█▎", "█▍", "█▌", "█▊", "█▉",
                    "██", "██▎", "██▍", "██▌", "██▊", "██▉", "███", "███▎", "███▍",
                    "███▌", "███▊", "███▉", "████", "████▎", "████▍", "████▌",
                    "████▊", "████▉", "█████", "█████▎", "█████▍", "█████▌",
                    "█████▊", "█████▉", "██████", "██████▎", "██████▍",
                    "██████▌", "██████▊", "██████▉", "███████", "███████▎",
                    "███████▍", "███████▌", "███████▊", "███████▉", "████████",
                    "████████▎", "████████▍", "████████▌", "████████▊",
                    "████████▉", "█████████", "█████████▎", "█████████▍",
                    "█████████▌", "█████████▊", "█████████▉", "██████████",
                    "██████████▎", "██████████▍", "██████████▌", "██████████▊",
                    "██████████▉", "███████████", "███████████▎", "███████████▍",
                    "███████████▌", "███████████▊", "███████████▉", "████████████",
                    "████████████▎", "████████████▍", "████████████▌",
                    "████████████▊", "████████████▉", "█████████████",
                    "█████████████▎", "█████████████▍", "█████████████▌",
                    "█████████████▊", "█████████████▉", "██████████████",
                    "██████████████▎", "██████████████▍", "██████████████▌",
                    "██████████████▊", "██████████████▉", "███████████████",
                    "███████████████▎", "███████████████▍", "███████████████▌",
                    "███████████████▊", "███████████████▉", "████████████████"]
        
        await message.edit("<b>start loading...</b>")
        await asyncio.sleep(1)
        
        for i in range(len(progress)):
            await message.edit(f"<b>{i * (100 // len(progress))}% {progress[i]}</b>")
            await asyncio.sleep(0.03)
        
        done_text = f"<b>{args}</b>" if args else "<b>done!</b>"
        await message.edit(done_text)
